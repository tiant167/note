<!DOCTYPE html>
<html>
<head>
<title>Edit&New</title>
<link rel="stylesheet" type="text/css" href="/css/edit.css" />
<script src="/js/jquery-1.7.2.js" type="text/javascript"></script>
<meta charset='utf-8'>
<script type="text/javascript">
	function sa(){  
		
		var title = $("#blog_title").val(); 
		if(title != ""){
			$("#newtext").submit();
		}
		else
		{
			alert("请填写标题。");
		}
	}

	$(document).ready(function(){
		//这里呢我是遇上一个问题，就是文章最后出现了几个�字符，数量还不定，所以呢，我就用js把它替换了，因为在php的代码里面传出是正确的，但是不知为什么在输入框里就不对了。
		var reg=new RegExp("�","g"); //创建正则RegExp对象 
		$("#blog_content").html($("#blog_content").html().toString().replace(reg," "));//replace方法只替换一个字符，所以用正则表达式替换。
		});

</script>
</head>
<body>
	<div id="header">
		<div class="container clearfix">
			<div id="logo">
				<h2>Note</h2>
				<h1>
					<span></span>
					<a href=""><?php echo $this->username;?></a>
				</h1>
			</div>
		</div>
	</div><!-- End of header -->

	<div id="navigation">
		<div class="container clearfix" id="NoteX">
			<ul class="pages">
				<li>
					<a href="/user" title="index">首页</a>
				</li>
				<li>
					<a href="/user/list">Note</a>
				</li>
				<li class="current_page_item">
					<a href="#">新建Note</a>
				</li>
			</ul>
		</div>
	</div><!-- End of navigation -->

	<div id="edit_frame">
		<form action="<?php if($this->flag == false){echo '/user/submit-handel';}else{echo '/user/update-blog/blogid/'.$this->blogid;}?>" name="edit_form" method="POST" id="newtext">
		<p id="title" class="label">Title: </p><input class="line" id="blog_title" name="title" value="<?php if($this->flag == true){echo $this->title;}?>" placeholder="请输入标题" />
		<div id="content_frame">
		
			<textarea  id="blog_content" name="content" cols="100" rows="25" ><?php if($this->flag == true){echo $this->content;}?></textarea>
			<br>	
			<button type="button" name="submit_btn" class="btn" id=“Submit_btn” onClick="sa();">发表</button> 
		</div>
		</form>
	
	</div>
	</body>
</html>